---
layout: default
---

<div class="home">
  {%- if page.title -%}
    <h1 class="page-heading">{{ page.title }}</h1>
  {%- endif -%}

  {{ content }}

  {% if site.paginate %}
    {% assign posts = paginator.posts %}
  {% else %}
    {% assign posts = site.posts | sort: 'date' | reverse %}
  {% endif %}

  <div class="row">
    <div class="col leftmost-col">
      <h2>Latest Blog Posts</h2>
      {%- if posts.size > 0 -%}
        <ul class="post-list">
          {%- for post in posts limit:3 -%}
          <li>
            <h3>
              <a class="post-link" href="{{ post.url | relative_url }}">
                {{ post.title | escape }}
              </a>
            </h3>
            {%- if site.show_excerpts -%}
              <div class="post-excerpt">{{ post.excerpt }}</div>
            {%- endif -%}
            <div class="post-meta">
              {%- assign date_format = site.minima.date_format | default: "%b %-d, %Y" -%}
              <span>{{ post.date | date: date_format }}</span>
              {% if post.tags %}
                <span class="post-tags">
                  {% for tag in post.tags limit:3 %}
                    <span class="related-tag">{{ tag }}</span>
                  {% endfor %}
                </span>
              {% endif %}
            </div>
          </li>
          {%- endfor -%}
        </ul>
        <a href="{{ "/blog/" | relative_url }}" class="more-link">More posts</a>
      {%- endif -%}

      <h2>Featured Projects</h2>
      {% assign projects = site.content | where: "category", "projects" | sort: 'date' | reverse %}
      {%- if projects.size > 0 -%}
        <div class="projects-list">
          {%- for project in projects limit:2 -%}
            <div class="project-item">
              <h3>
                <a class="post-link" href="{{ project.url | relative_url }}">
                  {{ project.title | escape }}
                </a>
              </h3>
              {% if project.image %}
                <a href="{{ project.url | relative_url }}">
                  <img src="{{ project.image | relative_url }}" alt="{{ project.title }}" class="project-thumb">
                </a>
              {% endif %}
              {%- if project.excerpt -%}
                <p class="project-excerpt">{{ project.excerpt }}</p>
              {%- endif -%}
            </div>
          {%- endfor -%}
        </div>
        <a href="{{ "/projects/" | relative_url }}" class="more-link">More projects</a>
      {%- endif -%}
    </div>

    <div class="col rightmost-col">
      <h2>Recent Notes</h2>
      {% assign notes = site.content | where: "category", "notes" | sort: 'date' | reverse %}
      {%- if notes.size > 0 -%}
        <ul class="post-list home-notes-list">
          {%- for note in notes limit:5 -%}
          <li>
            <h3>
              <a class="post-link" href="{{ note.url | relative_url }}">
                {{ note.title | escape }}
              </a>
            </h3>
            <div class="post-meta">
              {%- assign date_format = site.minima.date_format | default: "%b %-d, %Y" -%}
              <span>{{ note.date | date: date_format }}</span>
            </div>
          </li>
          {%- endfor -%}
        </ul>
        <a href="{{ "/notes/" | relative_url }}" class="more-link">More notes</a>
      {%- endif -%}

      <h2>Tags</h2>
      {% assign all_tags = "" | split: "" %}
      {% for post in site.posts %}
        {% for tag in post.tags %}
          {% assign all_tags = all_tags | push: tag %}
        {% endfor %}
      {% endfor %}
      {% assign unique_tags = all_tags | uniq | sort %}
      
      <ul class="tags-list">
        {% for tag in unique_tags limit:10 %}
          <li><a href="{{ site.baseurl }}/tag/{{ tag | slugify }}">{{ tag }}</a></li>
        {% endfor %}
      </ul>
    </div>
  </div>

</div>